!function(){"use strict";var t=angular.module("locus",["locus.auth","locus.dashboard","ngAnimate","ui.router"],function(t){t.interceptors.push("AuthInterceptor")});t.config(function(t,o,n){o.otherwise("dashboard"),t.state("login",{url:"/login",templateUrl:"app/templates/login.html",controller:"AuthCtrl"}).state("signup",{url:"/signup",templateUrl:"app/templates/signup.html",controller:"AuthCtrl"}).state("dashboard",{url:"/dashboard",templateUrl:"app/templates/dashboard.html",controller:"DashboardCtrl"})}),t.factory("AuthFactory",["TokenFactory","$http",function(t,o){var n="http://localhost:3000/",e=function(e){return o({method:"POST",url:n+"api/signin",data:e}).then(function(o){return t.setToken(o.data.token),o})},r=function(){t.setToken()};return{login:e,logout:r}}]),t.factory("TokenFactory",["$window",function(t){var o=t.localStorage,n="auth-token",e=function(){return o.getItem(n)},r=function(t){t?o.setItem(n,t):o.removeItem(n)};return{getToken:e,setToken:r}}]),t.factory("AuthInterceptor",["TokenFactory",function(t){var o=function(o){var n=t.getToken();return n&&(o.headers=o.headers||{},o.headers.Authorization="Bearer"+n),o};return{request:o}}])}(),function(){"use strict";angular.module("locus.auth",[]).controller("AuthCtrl",function(t){function o(o,n){var r={username:o,password:n};t.login(r).then(function(t){console.log("Response is",t),console.log("Token is",t.data.token)},e)}function n(){t.logout()}function e(t){console.log("Err is ",t)}var r=this;r.username="",r.password="",r.login=o,r.logout=n})}(),angular.module("locus.dashboard",[]).controller("DashboardCtrl",function(t){});